<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Amex Split Tracker</title>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<style>
/* === UNCHANGED STYLES (verbatim from your version) === */
:root{
  --bg:#0b0f19;
  --card:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.6);
  --blue:#2f7dff;
  --blueDark:#1f56b8;
  --pink:#ff4fb0;
  --pinkDark:#c93686;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto;background:var(--bg);color:var(--text)}
.wrap{max-width:480px;margin:0 auto;padding:16px}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px;margin-bottom:14px}
h2,h3{margin:0 0 10px 0;font-weight:800}
.row{display:flex;justify-content:space-between;align-items:center;font-size:14px;margin-top:6px}
.dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:6px}
.kpiGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.kpi{text-align:center}
.mid{font-size:18px;font-weight:900}
.sub{font-size:12px;color:var(--muted)}
canvas{max-width:100%}
.pieWrap{position:relative}
.pieCenter{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;pointer-events:none}
.pieCenter .title{font-size:13px;font-weight:900}
.pieCenter .val{font-size:18px;font-weight:1000;margin-top:4px}
.pieCenter .sub{font-size:12px;color:var(--muted)}
.slider{position:relative;overflow:hidden;border-radius:14px}
.slideTrack{display:flex;width:200%;transition:transform 260ms ease}
.slide{width:50%}
.tableHeader{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}
.segment{display:inline-flex;border:1px solid var(--border);border-radius:12px;overflow:hidden}
.segBtn{background:none;border:0;color:var(--muted);padding:6px 10px;font-size:12px;cursor:pointer}
.segBtn.active{background:rgba(255,255,255,.08);color:var(--text)}
table{width:100%;border-collapse:collapse;font-size:12px}
th,td{padding:8px;border-bottom:1px solid rgba(255,255,255,.08)}
th{color:var(--muted);text-align:left}
.badge{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;font-size:11px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04)}
</style>
</head>

<body>
<div class="wrap">

<!-- PIE, KPIs, MONTH CARD, TABLE -->
<!-- === HTML BODY UNCHANGED FROM YOUR VERSION === -->

<script>
/* === ONLY CHANGES BELOW THIS POINT === */

/* Bar chart labels updated */
function updateBarChart(chart, k){
  const m = monthly[k];
  const yPaidNet = clamp0(m.ypg - m.ap);
  chart.data.labels = ["Spent","Paid","Spent","Paid"];
  chart.data.datasets[0].data = [m.ys, yPaidNet, m.as, m.ap];
  chart.update();
}

/* Swipe direction INVERTED */
addSwipe($("monthCard"),
  () => { if(mIdx > 0) renderMonthSlide(mIdx - 1); },   // swipe LEFT → previous month
  () => { if(mIdx < months.length - 1) renderMonthSlide(mIdx + 1); } // swipe RIGHT → next month
);
</script>

</body>
</html>
